# PytestTester

> Auto-generated documentation for [env.Lib.site-packages.numpy._pytesttester](..\..\..\..\..\env\Lib\site-packages\numpy\_pytesttester.py) module.

Pytest test running.

- [Smart-house-rest-api](..\..\..\..\README.md#description) / [Modules](..\..\..\..\MODULES.md#smart-house-rest-api-modules) / `Env` / `Lib` / `Site-packages` / [Numpy](index.md#numpy) / PytestTester
    - [PytestTester](#pytesttester)
        - [PytestTester().\_\_call\_\_](#pytesttester__call__)

This module implements the ``test()`` function for NumPy modules. The usual
boiler plate for doing that is to put the following in the module
``__init__.py`` file

```python
from numpy._pytesttester import PytestTester
test = PytestTester(__name__).test
del PytestTester
```

Warnings filtering and other runtime settings should be dealt with in the
``pytest.ini`` file in the numpy repo root. The behavior of the test depends on
whether or not that file is found as follows:

* ``pytest.ini`` is present (develop mode)
    All warnings except those explicitly filtered out are raised as error.
* ``pytest.ini`` is absent (release mode)
    DeprecationWarnings and PendingDeprecationWarnings are ignored, other
    warnings are passed through.

In practice, tests run from the numpy repo are run in develop mode. That
includes the standard ``python runtests.py`` invocation.

This module is imported by every numpy subpackage, so lies at the top level to
simplify circular import issues. For the same reason, it contains no numpy
imports at module scope, instead importing numpy within function calls.

## PytestTester

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\numpy\_pytesttester.py#L45)

```python
class PytestTester():
    def __init__(module_name):
```

Pytest test runner.

A test function is typically added to a package's __init__.py like so

```python
from numpy._pytesttester import PytestTester
test = PytestTester(__name__).test
del PytestTester
```

Calling this test function finds and runs all tests associated with the
module and all its sub-modules.

Attributes
----------
module_name : str
    Full path to the package to test.

Parameters
----------
module_name : module name
    The name of the module to test.

Notes
-----
Unlike the previous ``nose``-based implementation, this class is not
publicly exposed as it performs some ``numpy``-specific warning
suppression.

### PytestTester().\_\_call\_\_

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\numpy\_pytesttester.py#L78)

```python
def __call__(
    label='fast',
    verbose=1,
    extra_argv=None,
    doctests=False,
    coverage=False,
    durations=-1,
    tests=None,
):
```

Run tests for module using pytest.

Parameters
----------
label : {'fast', 'full'}, optional
    Identifies the tests to run. When set to 'fast', tests decorated
    with `pytest.mark.slow` are skipped, when 'full', the slow marker
    is ignored.
verbose : int, optional
    Verbosity value for test outputs, in the range 1-3. Default is 1.
extra_argv : list, optional
    List with any extra arguments to pass to pytests.
doctests : bool, optional

#### Notes

    Not supported
coverage : bool, optional
    If True, report coverage of NumPy code. Default is False.
    Requires installation of (pip) pytest-cov.
durations : int, optional
    If < 0, do nothing, If 0, report time of all tests, if > 0,
    report the time of the slowest `timer` tests. Default is -1.
tests : test or list of tests
    Tests to be executed with pytest '--pyargs'

Returns
-------
result : bool
    Return True on success, false otherwise.

Notes
-----
Each NumPy module exposes `test` in its namespace to run all tests for
it. For example, to run all tests for numpy.lib:

```python
>>> np.lib.test() #doctest: +SKIP
```

Examples
--------

```python
>>> result = np.lib.test() #doctest: +SKIP
...
1023 passed, 2 skipped, 6 deselected, 1 xfailed in 10.39 seconds
>>> result
True
