# Flask Restful

> Auto-generated documentation for [env.Lib.site-packages.flask_restful](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py) module.

- [Smart-house-rest-api](..\..\..\..\README.md#description) / [Modules](..\..\..\..\MODULES.md#smart-house-rest-api-modules) / `Env` / `Lib` / `Site-packages` / Flask Restful
    - [Api](#api)
        - [Api().add_resource](#apiadd_resource)
        - [Api().error_router](#apierror_router)
        - [Api().handle_error](#apihandle_error)
        - [Api().init_app](#apiinit_app)
        - [Api().make_response](#apimake_response)
        - [Api().mediatypes](#apimediatypes)
        - [Api().mediatypes_method](#apimediatypes_method)
        - [Api().output](#apioutput)
        - [Api().owns_endpoint](#apiowns_endpoint)
        - [Api().representation](#apirepresentation)
        - [Api().resource](#apiresource)
        - [Api().unauthorized](#apiunauthorized)
        - [Api().url_for](#apiurl_for)
    - [Resource](#resource)
        - [Resource().dispatch_request](#resourcedispatch_request)
    - [marshal_with](#marshal_with)
    - [marshal_with_field](#marshal_with_field)
    - [abort](#abort)
    - [marshal](#marshal)
    - Modules
        - [Version](__version__.md#version)
        - [Fields](fields.md#fields)
        - [Inputs](inputs.md#inputs)
        - [Representations](representations\index.md#representations)
        - [Reqparse](reqparse.md#reqparse)
        - [Utils](utils\index.md#utils)

## Api

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L41)

```python
class Api(object):
    def __init__(
        app=None,
        prefix='',
        default_mediatype='application/json',
        decorators=None,
        catch_all_404s=False,
        serve_challenge_on_401=False,
        url_part_order='bae',
        errors=None,
    ):
```

The main entry point for the application.
You need to initialize it with a Flask Application: 

```python
>>> app = Flask(__name__)
>>> api = restful.Api(app)
```

Alternatively, you can use :meth:`init_app` to set the Flask application
after it has been constructed.

#### Arguments

- `app` - the Flask application object
:type app: flask.Flask or flask.Blueprint
- `prefix` - Prefix all routes with a value, eg v1 or 2010-04-01
:type prefix: str
- `default_mediatype` - The default media type to return
:type default_mediatype: str
- `decorators` - Decorators to attach to every resource
:type decorators: list
- `catch_all_404s` - Use :meth:`handle_error`
    to handle 404 errors throughout your app
- `serve_challenge_on_401` - Whether to serve a challenge response to
    clients on receiving 401. This usually leads to a username/password
    popup in web browsers.
- `url_part_order` - A string that controls the order that the pieces
    of the url are concatenated when the full url is constructed.  'b'
    is the blueprint (or blueprint registration) prefix, 'a' is the api
    prefix, and 'e' is the path component the endpoint is added with
:type catch_all_404s: bool
- `errors` - A dictionary to define a custom response for each
    exception or error raised during a request
:type errors: dict

### Api().add_resource

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L358)

```python
def add_resource(resource, *urls, **kwargs):
```

Adds a resource to the api.

#### Arguments

- `resource` - the class name of your resource
:type resource: class `Type[Resource]`

- `urls` - one or more url routes to match for the resource, standard
             flask routing rules apply.  Any url variables will be
             passed to the resource method as args.
:type urls: str

- `endpoint` - endpoint name (defaults to :meth:`Resource.__name__.lower`
    Can be used to reference this route in class `fields.Url` fields
:type endpoint: str

- `resource_class_args` - args to be forwarded to the constructor of
    the resource.
:type resource_class_args: tuple

- `resource_class_kwargs` - kwargs to be forwarded to the constructor
    of the resource.
:type resource_class_kwargs: dict

Additional keyword arguments not specified above will be passed as-is
to :meth:`flask.Flask.add_url_rule`.

Examples

```python
api.add_resource(HelloWorld, '/', '/hello')
api.add_resource(Foo, '/foo', endpoint="foo")
api.add_resource(FooSpecial, '/special/foo', endpoint="foo")
```

### Api().error_router

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L252)

```python
def error_router(original_handler, e):
```

This function decides whether the error occured in a flask-restful
endpoint or not. If it happened in a flask-restful endpoint, our
handler will be dispatched. If it happened in an unrelated view, the
app's original error handler will be dispatched.
In the event that the error occurred in a flask-restful endpoint but
the local handler can't resolve the situation, the router will fall
back onto the original_handler as last resort.

#### Arguments

- `original_handler` - the original Flask error handler for the app
:type original_handler: function
- `e` - the exception raised while handling the request
:type e: Exception

### Api().handle_error

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L274)

```python
def handle_error(e):
```

Error handler for the API transforms a raised exception into a Flask
response, with the appropriate HTTP status code and body.

#### Arguments

- `e` - the raised Exception object
:type e: Exception

### Api().init_app

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L99)

```python
def init_app(app):
```

Initialize this class with the given class `flask.Flask`
application or class `flask.Blueprint` object.

#### Arguments

- `app` - the Flask application or blueprint object
:type app: flask.Flask
:type app: flask.Blueprint

Examples

```python
api = Api()
api.add_resource(...)
api.init_app(app)
```

### Api().make_response

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L484)

```python
def make_response(data, *args, **kwargs):
```

Looks up the representation transformer for the requested media
type, invoking the transformer to create a response object. This
defaults to default_mediatype if no transformer is found for the
requested mediatype. If default_mediatype is None, a 406 Not
Acceptable response will be sent as per RFC 2616 section 14.1

#### Arguments

- `data` - Python object containing response data to be transformed

### Api().mediatypes

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L511)

```python
def mediatypes():
```

Returns a list of requested mediatypes sent in the Accept header

### Api().mediatypes_method

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L353)

```python
def mediatypes_method():
```

Return a method that returns a list of mediatypes

### Api().output

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L460)

```python
def output(resource):
```

Wraps a resource (as a flask view function), for cases where the
resource does not directly return a response object

#### Arguments

- `resource` - The resource as a flask view function

### Api().owns_endpoint

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L203)

```python
def owns_endpoint(endpoint):
```

Tests if an endpoint name (not path) belongs to this Api.  Takes
in to account the Blueprint name part of the endpoint name.

#### Arguments

- `endpoint` - The name of the endpoint being checked

#### Returns

bool

### Api().representation

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L516)

```python
def representation(mediatype):
```

Allows additional representation transformers to be declared for the
api. Transformers are functions that must be decorated with this
method, passing the mediatype the transformer represents. Three
arguments are passed to the transformer:

* The data to be represented in the response body
* The http status code
* A dictionary of headers

The transformer should convert the data appropriately for the mediatype
and return a Flask response object.

Ex

```python
@api.representation('application/xml')
def xml(data, code, headers):
    resp = make_response(convert_data_to_xml(data), code)
    resp.headers.extend(headers)
    return resp
```

### Api().resource

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L396)

```python
def resource(*urls, **kwargs):
```

Wraps a class `flask_restful.Resource` class, adding it to the
api. Parameters are the same as :meth:`~flask_restful.Api.add_resource`.

Example

```python
app = Flask(__name__)
api = restful.Api(app)

@api.resource('/foo')
class Foo(Resource):
    def get(self):
        return 'Hello, World!'
```

### Api().unauthorized

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L542)

```python
def unauthorized(response):
```

Given a response, change it to ask for credentials

### Api().url_for

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L475)

```python
def url_for(resource, **values):
```

Generates a URL to the given resource.

Works like :func:`flask.url_for`.

## Resource

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L553)

```python
class Resource(MethodView):
```

Represents an abstract RESTful resource. Concrete resources should
extend from this class and expose methods for each supported HTTP
method. If a resource is invoked with an unsupported HTTP method,
the API will return a response with status 405 Method Not Allowed.
Otherwise the appropriate method is called and passed all arguments
from the url rule used when adding the resource to an Api instance. See
:meth:`~flask_restful.Api.add_resource` for details.

### Resource().dispatch_request

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L566)

```python
def dispatch_request(*args, **kwargs):
```

## marshal_with

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L639)

```python
class marshal_with(object):
    def __init__(fields, envelope=None):
```

A decorator that apply marshalling to the return values of your methods.

```python
>>> from flask_restful import fields, marshal_with
>>> mfields = { 'a': fields.Raw }
>>> @marshal_with(mfields)
... def get():
...     return { 'a': 100, 'b': 'foo' }
...
...
>>> get()
OrderedDict([('a', 100)])
```

```python
>>> @marshal_with(mfields, envelope='data')
... def get():
...     return { 'a': 100, 'b': 'foo' }
...
...
>>> get()
OrderedDict([('data', OrderedDict([('a', 100)]))])
```

see :meth:`flask_restful.marshal`

## marshal_with_field

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L684)

```python
class marshal_with_field(object):
    def __init__(field):
```

A decorator that formats the return values of your methods with a single field.

```python
>>> from flask_restful import marshal_with_field, fields
>>> @marshal_with_field(fields.List(fields.Integer))
... def get():
...     return ['1', 2, 3.0]
...
>>> get()
[1, 2, 3]
```

see :meth:`flask_restful.marshal_with`

## abort

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L26)

```python
def abort(http_status_code, **kwargs):
```

Raise a HTTPException for the given http_status_code. Attach any keyword
arguments to the exception for later processing.

## marshal

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask_restful\__init__.py#L601)

```python
def marshal(data, fields, envelope=None):
```

Takes raw data (in the form of a dict, list, object) and a dict of
fields to output and filters the data based on those fields.

#### Arguments

- `data` - the actual object(s) from which the fields are taken from
- `fields` - a dict of whose keys will make up the final serialized
               response output
- `envelope` - optional key that will be used to envelop the serialized
                 response

```python
>>> from flask_restful import fields, marshal
>>> data = { 'a': 100, 'b': 'foo' }
>>> mfields = { 'a': fields.Raw }
```

```python
>>> marshal(data, mfields)
OrderedDict([('a', 100)])
```

```python
>>> marshal(data, mfields, envelope='data')
OrderedDict([('data', OrderedDict([('a', 100)]))])
