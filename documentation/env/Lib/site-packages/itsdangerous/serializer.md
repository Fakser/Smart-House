# Serializer

> Auto-generated documentation for [env.Lib.site-packages.itsdangerous.serializer](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py) module.

- [Smart-house-rest-api](..\..\..\..\README.md#description) / [Modules](..\..\..\..\MODULES.md#smart-house-rest-api-modules) / `Env` / `Lib` / `Site-packages` / [Itsdangerous](index.md#itsdangerous) / Serializer
    - [Serializer](#serializer)
        - [Serializer().dump](#serializerdump)
        - [Serializer().dump_payload](#serializerdump_payload)
        - [Serializer().dumps](#serializerdumps)
        - [Serializer().iter_unsigners](#serializeriter_unsigners)
        - [Serializer().load](#serializerload)
        - [Serializer().load_payload](#serializerload_payload)
        - [Serializer().load_unsafe](#serializerload_unsafe)
        - [Serializer().loads](#serializerloads)
        - [Serializer().loads_unsafe](#serializerloads_unsafe)
        - [Serializer().make_signer](#serializermake_signer)
    - [is_text_serializer](#is_text_serializer)

## Serializer

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L16)

```python
class Serializer(object):
    def __init__(
        secret_key,
        salt=b'itsdangerous',
        serializer=None,
        serializer_kwargs=None,
        signer=None,
        signer_kwargs=None,
        fallback_signers=None,
    ):
```

This class provides a serialization interface on top of the
signer. It provides a similar API to json/pickle and other modules
but is structured differently internally. If you want to change the
underlying implementation for parsing and loading you have to
override the :meth:`load_payload` and :meth:`dump_payload`
functions.

This implementation uses simplejson if available for dumping and
loading and will fall back to the standard library's json module if
it's not available.

You do not need to subclass this class in order to switch out or
customize the class `.Signer`. You can instead pass a different
class to the constructor as well as keyword arguments as a dict that
should be forwarded.

```python
s = Serializer(signer_kwargs={'key_derivation': 'hmac'})
```

You may want to upgrade the signing parameters without invalidating
existing signatures that are in use. Fallback signatures can be
given that will be tried if unsigning with the current signer fails.

Fallback signers can be defined by providing a list of
``fallback_signers``. Each item can be one of the following: a
signer class (which is instantiated with ``signer_kwargs``,
``salt``, and ``secret_key``), a tuple
``(signer_class, signer_kwargs)``, or a dict of ``signer_kwargs``.

For example, this is a serializer that signs using SHA-512, but will
unsign using either SHA-512 or SHA1:

```python
s = Serializer(
    signer_kwargs={"digest_method": hashlib.sha512},
    fallback_signers=[{"digest_method": hashlib.sha1}]
)
```

#### Notes

Changed in version 0.14:
    The ``signer`` and ``signer_kwargs`` parameters were added to
    the constructor.

Changed in version 1.1.0:
    Added support for ``fallback_signers`` and configured a default
    SHA-512 fallback. This fallback is for users who used the yanked
    1.0.0 release which defaulted to SHA-512.

#### Attributes

- `default_serializer` - : If a serializer module or class is not passed to the constructor
  : this one is picked up. This currently defaults to :mod:`json`.: `json`
- `default_signer` - : The default :class:`Signer` class that is being used by this
  : serializer.
  :
  : .. versionadded:: 0.14: `Signer`
- `default_fallback_signers` - : The default fallback signers.: `[{'digest_method': hashlib.sha512}]`

### Serializer().dump

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L172)

```python
def dump(obj, f, salt=None):
```

Like :meth:[Serializer().dumps](#serializerdumps) but dumps into a file. The file handle has
to be compatible with what the internal serializer expects.

### Serializer().dump_payload

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L128)

```python
def dump_payload(obj):
```

Dumps the encoded object. The return value is always bytes.
If the internal serializer returns text, the value will be
encoded as UTF-8.

### Serializer().dumps

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L161)

```python
def dumps(obj, salt=None):
```

Returns a signed string serialized with the internal
serializer. The return value can be either a byte or unicode
string depending on the format of the internal serializer.

### Serializer().iter_unsigners

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L143)

```python
def iter_unsigners(salt=None):
```

Iterates over all signers to be tried for unsigning. Starts
with the configured signer, then constructs each signer
specified in ``fallback_signers``.

### Serializer().load

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L191)

```python
def load(f, salt=None):
```

Like :meth:[Serializer().loads](#serializerloads) but loads from a file.

### Serializer().load_payload

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L105)

```python
def load_payload(payload, serializer=None):
```

Loads the encoded object. This function raises
class `.BadPayload` if the payload is not valid. The
``serializer`` parameter can be used to override the serializer
stored on the class. The encoded ``payload`` should always be
bytes.

### Serializer().load_unsafe

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L228)

```python
def load_unsafe(f, *args, **kwargs):
```

Like :meth:[Serializer().loads_unsafe](#serializerloads_unsafe) but loads from a file.

#### Notes

Added in version 0.15

### Serializer().loads

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L178)

```python
def loads(s, salt=None):
```

Reverse of :meth:[Serializer().dumps](#serializerdumps). Raises exception `.BadSignature` if the
signature validation fails.

### Serializer().loads_unsafe

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L195)

```python
def loads_unsafe(s, salt=None):
```

Like :meth:[Serializer().loads](#serializerloads) but without verifying the signature. This
is potentially very dangerous to use depending on how your
serializer works. The return value is ``(signature_valid,
payload)`` instead of just the payload. The first item will be a
boolean that indicates if the signature is valid. This function
never fails.

Use it for debugging only and if you know that your serializer
module is not exploitable (for example, do not use it with a
pickle serializer).

#### Notes

Added in version 0.15

### Serializer().make_signer

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L135)

```python
def make_signer(salt=None):
```

Creates a new instance of the signer to be used. The default
implementation uses the class `.Signer` base class.

## is_text_serializer

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\itsdangerous\serializer.py#L11)

```python
def is_text_serializer(serializer):
```

Checks whether a serializer generates text or binary.
