# SQLAlchemySchema

> Auto-generated documentation for [env.Lib.site-packages.marshmallow_sqlalchemy.schema.sqlalchemy_schema](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py) module.

- [Smart-house-rest-api](..\..\..\..\..\README.md#description) / [Modules](..\..\..\..\..\MODULES.md#smart-house-rest-api-modules) / `Env` / `Lib` / `Site-packages` / [Marshmallow Sqlalchemy](..\index.md#marshmallow-sqlalchemy) / [Schema](index.md#schema) / SQLAlchemySchema
    - [SQLAlchemyAutoField](#sqlalchemyautofield)
        - [SQLAlchemyAutoField().create_field](#sqlalchemyautofieldcreate_field)
    - [SQLAlchemyAutoSchema](#sqlalchemyautoschema)
    - [SQLAlchemyAutoSchemaMeta](#sqlalchemyautoschemameta)
        - [SQLAlchemyAutoSchemaMeta.get_declared_sqla_fields](#sqlalchemyautoschemametaget_declared_sqla_fields)
    - [SQLAlchemyAutoSchemaOpts](#sqlalchemyautoschemaopts)
    - [SQLAlchemySchema](#sqlalchemyschema)
    - [SQLAlchemySchemaMeta](#sqlalchemyschemameta)
        - [SQLAlchemySchemaMeta.get_auto_fields](#sqlalchemyschemametaget_auto_fields)
        - [SQLAlchemySchemaMeta.get_declared_fields](#sqlalchemyschemametaget_declared_fields)
        - [SQLAlchemySchemaMeta.get_declared_sqla_fields](#sqlalchemyschemametaget_declared_sqla_fields)
    - [SQLAlchemySchemaOpts](#sqlalchemyschemaopts)
    - [auto_field](#auto_field)

## SQLAlchemyAutoField

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L13)

```python
class SQLAlchemyAutoField(Field):
    def __init__(column_name=None, model=None, table=None, field_kwargs):
```

### SQLAlchemyAutoField().create_field

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L25)

```python
def create_field(schema_opts, column_name, converter):
```

## SQLAlchemyAutoSchema

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L169)

```python
class SQLAlchemyAutoSchema(SQLAlchemySchema):
```

Schema that automatically generates fields from the columns of
a SQLAlchemy model or table.

Example: 

```python
from marshmallow_sqlalchemy import SQLAlchemyAutoSchema, auto_field

from mymodels import User

class UserSchema(SQLAlchemyAutoSchema):
    class Meta:
        model = User
        # OR
        # table = User.__table__

    created_at = auto_field(dump_only=True)
```

#### See also

- [SQLAlchemySchema](#sqlalchemyschema)

## SQLAlchemyAutoSchemaMeta

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L115)

```python
class SQLAlchemyAutoSchemaMeta(SQLAlchemySchemaMeta):
```

#### See also

- [SQLAlchemySchemaMeta](#sqlalchemyschemameta)

### SQLAlchemyAutoSchemaMeta.get_declared_sqla_fields

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L116)

```python
@classmethod
def get_declared_sqla_fields(base_fields, converter, opts, dict_cls):
```

## SQLAlchemyAutoSchemaOpts

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L68)

```python
class SQLAlchemyAutoSchemaOpts(SQLAlchemySchemaOpts):
    def __init__(meta, *args, **kwargs):
```

Options class for [SQLAlchemyAutoSchema](#sqlalchemyautoschema).
Has the same options as [SQLAlchemySchemaOpts](#sqlalchemyschemaopts), with the addition of:

- ``include_fk``: Whether to include foreign fields; defaults to `False`.
- ``include_relationships``: Whether to include relationships; defaults to `False`.

#### See also

- [SQLAlchemySchemaOpts](#sqlalchemyschemaopts)

## SQLAlchemySchema

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L145)

```python
class SQLAlchemySchema(LoadInstanceMixin.Schema, Schema):
```

Schema for a SQLAlchemy model or table.
Use together with [auto_field](#auto_field) to generate fields from columns.

Example: 

```python
from marshmallow_sqlalchemy import SQLAlchemySchema, auto_field

from mymodels import User

class UserSchema(SQLAlchemySchema):
    class Meta:
        model = User

    id = auto_field()
    created_at = auto_field(dump_only=True)
    name = auto_field()
```

## SQLAlchemySchemaMeta

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L84)

```python
class SQLAlchemySchemaMeta(SchemaMeta):
```

### SQLAlchemySchemaMeta.get_auto_fields

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L101)

```python
@classmethod
def get_auto_fields(fields, converter, opts, dict_cls):
```

### SQLAlchemySchemaMeta.get_declared_fields

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L85)

```python
@classmethod
def get_declared_fields(klass, cls_fields, inherited_fields, dict_cls):
```

### SQLAlchemySchemaMeta.get_declared_sqla_fields

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L97)

```python
@classmethod
def get_declared_sqla_fields(base_fields, converter, opts, dict_cls):
```

## SQLAlchemySchemaOpts

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L44)

```python
class SQLAlchemySchemaOpts(LoadInstanceMixin.Opts, SchemaOpts):
    def __init__(meta, *args, **kwargs):
```

Options class for [SQLAlchemySchema](#sqlalchemyschema).
Adds the following options:

- ``model``: The SQLAlchemy model to generate the `Schema` from (mutually exclusive with ``table``).
- ``table``: The SQLAlchemy table to generate the `Schema` from (mutually exclusive with ``model``).
- ``load_instance``: Whether to load model instances.
- ``sqla_session``: SQLAlchemy session to be used for deserialization.
    This is only needed when ``load_instance`` is `True`. You can also pass a session to the Schema's `load` method.
- ``transient``: Whether to load model instances in a transient state (effectively ignoring the session).
    Only relevant when ``load_instance`` is `True`.
- ``model_converter``: `ModelConverter` class to use for converting the SQLAlchemy model to marshmallow fields.

## auto_field

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\sqlalchemy_schema.py#L191)

```python
def auto_field(
    column_name: str = None,
    model: DeclarativeMeta = None,
    table: sa.Table = None,
    **kwargs,
):
```

Mark a field to autogenerate from a model or table.

#### Arguments

- `column_name` - Name of the column to generate the field from.
    If ``None``, matches the field name. If ``attribute`` is unspecified,
    ``attribute`` will be set to the same value as ``column_name``.
- `model` - Model to generate the field from.
    If ``None``, uses ``model`` specified on ``class Meta``.
- `table` - Table to generate the field from.
    If ``None``, uses ``table`` specified on ``class Meta``.
- `kwargs` - Field argument overrides.
