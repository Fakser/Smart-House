# ModelSchema

> Auto-generated documentation for [env.Lib.site-packages.marshmallow_sqlalchemy.schema.model_schema](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\model_schema.py) module.

- [Smart-house-rest-api](..\..\..\..\..\README.md#description) / [Modules](..\..\..\..\..\MODULES.md#smart-house-rest-api-modules) / `Env` / `Lib` / `Site-packages` / [Marshmallow Sqlalchemy](..\index.md#marshmallow-sqlalchemy) / [Schema](index.md#schema) / ModelSchema
    - [ModelSchema](#modelschema)
    - [ModelSchemaMeta](#modelschemameta)
        - [ModelSchemaMeta.get_fields](#modelschemametaget_fields)
    - [ModelSchemaOpts](#modelschemaopts)

## ModelSchema

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\model_schema.py#L54)

```python
class ModelSchema(LoadInstanceMixin.Schema, ma.Schema):
```

Base class for SQLAlchemy model-based Schemas.

Example: 

```python
from marshmallow_sqlalchemy import ModelSchema
from mymodels import User, session

class UserSchema(ModelSchema):
    class Meta:
        model = User

schema = UserSchema()

user = schema.load({'name': 'Bill'}, session=session)
existing_user = schema.load({'name': 'Bill'}, instance=User.query.first())
```

#### Arguments

- `session` - Optional SQLAlchemy session; may be overridden in `load.`
- `instance` - Optional existing instance to modify; may be overridden in `load`.

#### Notes

Deprecated in version 0.22.0
    Use `SQLAlchemyAutoSchema <marshmallow_sqlalchemy.SQLAlchemyAutoSchema>` instead.

## ModelSchemaMeta

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\model_schema.py#L38)

```python
class ModelSchemaMeta(SchemaMeta):
```

### ModelSchemaMeta.get_fields

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\model_schema.py#L39)

```python
@classmethod
def get_fields(converter, opts, base_fields, dict_cls):
```

## ModelSchemaOpts

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\marshmallow_sqlalchemy\schema\model_schema.py#L10)

```python
class ModelSchemaOpts(LoadInstanceMixin.Opts, ma.SchemaOpts):
    def __init__(meta, *args, **kwargs):
```

Options class for [ModelSchema](#modelschema).
Adds the following options:

- ``model``: The SQLAlchemy model to generate the `Schema` from (required).
- ``sqla_session``: SQLAlchemy session to be used for deserialization. This is optional; you
    can also pass a session to the Schema's `load` method.
- ``load_instance``: Whether to load model instances.
- ``sqla_session``: SQLAlchemy session to be used for deserialization.
    This is only needed when ``load_instance`` is `True`. You can also pass a session to the Schema's `load` method.
- ``transient``: Whether to load model instances in a transient state (effectively ignoring the session).
    Only relevant when ``load_instance`` is `True`.
- ``include_fk``: Whether to include foreign fields; defaults to `False`.
- ``include_relationships``: Whether to include relationships; defaults to `False`.
- ``model_converter``: `ModelConverter` class to use for converting the SQLAlchemy model to
    marshmallow fields.
