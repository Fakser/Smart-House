# flask.json

> Auto-generated documentation for [env.Lib.site-packages.flask.json](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py) module.

:copyright: 2010 Pallets
:license: BSD-3-Clause

- [Smart-house-rest-api](..\..\..\..\..\README.md#description) / [Modules](..\..\..\..\..\MODULES.md#smart-house-rest-api-modules) / `Env` / `Lib` / `Site-packages` / [flask](..\index.md#flask) / flask.json
    - [JSONDecoder](#jsondecoder)
    - [JSONEncoder](#jsonencoder)
        - [JSONEncoder().default](#jsonencoderdefault)
    - [dump](#dump)
    - [dumps](#dumps)
    - [htmlsafe_dump](#htmlsafe_dump)
    - [htmlsafe_dumps](#htmlsafe_dumps)
    - [jsonify](#jsonify)
    - [load](#load)
    - [loads](#loads)
    - Modules
        - [Tagged JSON](tag.md#tagged-json)

## JSONDecoder

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L103)

```python
class JSONDecoder(_json.JSONDecoder):
```

The default JSON decoder.  This one does not change the behavior from
the default simplejson decoder.  Consult the :mod:`json` documentation
for more information.  This decoder is not only used for the load
functions of this module but also attribute `~flask.Request`.

## JSONEncoder

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L61)

```python
class JSONEncoder(_json.JSONEncoder):
```

The default Flask JSON encoder. This one extends the default
encoder by also supporting ``datetime``, ``UUID``, [dataclasses](#flaskjson),
and ``Markup`` objects.

``datetime`` objects are serialized as RFC 822 datetime strings.
This is the same as the HTTP date format.

In order to support more data types, override the :meth:`default`
method.

### JSONEncoder().default

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L73)

```python
def default(o):
```

Implement this method in a subclass such that it returns a
serializable object for ``o``, or calls the base implementation (to
raise a exception `TypeError`).

For example, to support arbitrary iterators, you could implement
default like this

```python
def default(self, o):
    try:
        iterable = iter(o)
    except TypeError:
        pass
    else:
        return list(iterable)
    return JSONEncoder.default(self, o)
```

## dump

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L217)

```python
def dump(obj, fp, app=None, **kwargs):
```

Like :func:[dumps](#dumps) but writes into a file object.

## dumps

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L188)

```python
def dumps(obj, app=None, **kwargs):
```

Serialize ``obj`` to a JSON-formatted string. If there is an
app context pushed, use the current app's configured encoder
(attribute `~flask.Flask.json_encoder`), or fall back to the default
:class:[JSONEncoder](#jsonencoder).

Takes the same arguments as the built-in :func:`json.dumps`, and
does some extra configuration based on the application. If the
simplejson package is installed, it is preferred.

#### Arguments

- `obj` - Object to serialize to JSON.
- `app` - App instance to use to configure the JSON encoder.
    Uses ``current_app`` if not given, and falls back to the default
    encoder when not in an app context.
- `kwargs` - Extra arguments passed to :func:`json.dumps`.

#### Notes

Changed in version 1.0.3

[App](..\..\..\..\..\app.md#app) can be passed directly, rather than requiring an app
context for configuration.

## htmlsafe_dump

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L301)

```python
def htmlsafe_dump(obj, fp, **kwargs):
```

Like :func:[htmlsafe_dumps](#htmlsafe_dumps) but writes into a file object.

## htmlsafe_dumps

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L264)

```python
def htmlsafe_dumps(obj, **kwargs):
```

Works exactly like :func:[dumps](#dumps) but is safe for use in ``<script>``
tags.  It accepts the same arguments and returns a JSON string.  Note that
this is available in templates through the ``|tojson`` filter which will
also mark the result as safe.  Due to how this function escapes certain
characters this is safe even if used outside of ``<script>`` tags.

The following characters are escaped in strings:

-   ``<``
-   ``>``
-   ``&``
-   ``'``

This makes it safe to embed such strings in any place in HTML with the
notable exception of double quoted attributes.  In that case single
quote your attributes or HTML escape it in addition.

#### Notes

Changed in version 0.10
   This function's return value is now always safe for HTML usage, even
   if outside of script tags or if used in XHTML.  This rule does not
   hold true when using this function in HTML attributes that are double
   quoted.  Always single quote attributes if you use the ``|tojson``
   filter.  Alternatively use ``|tojson|forceescape``.

## jsonify

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L306)

```python
def jsonify(*args, **kwargs):
```

This function wraps :func:[dumps](#dumps) to add a few enhancements that make
life easier.  It turns the JSON output into a class `flask.Response`
object with the :mimetype:`application/json` mimetype.  For convenience, it
also converts multiple arguments into an array or multiple keyword arguments
into a dict.  This means that both ``jsonify(1,2,3)`` and
``jsonify([1,2,3])`` serialize to ``[1,2,3]``.

For clarity, the JSON serialization behavior has the following differences
from :func:[dumps](#dumps):

1. Single argument: Passed straight through to :func:[dumps](#dumps).
2. Multiple arguments: Converted to an array before being passed to
   :func:[dumps](#dumps).
3. Multiple keyword arguments: Converted to a dict before being passed to
   :func:[dumps](#dumps).
4. Both args and kwargs: Behavior undefined and will throw an exception.

Example usage

```python
from flask import jsonify

@app.route('/_get_current_user')
def get_current_user():
    return jsonify(username=g.user.username,
                   email=g.user.email,
                   id=g.user.id)
```

This will send a JSON response like this to the browser

```python
{
    "username": "admin",
    "email": "admin@localhost",
    "id": 42
}
```

#### Notes

Changed in version 0.11
   Added support for serializing top-level arrays. This introduces a
   security risk in ancient browsers. See :ref:`json-security` for details.

This function's response will be pretty printed if the
``JSONIFY_PRETTYPRINT_REGULAR`` config parameter is set to True or the
Flask app is running in debug mode. Compressed (not pretty) formatting
currently means no indents and no spaces after separators.

Added in version 0.2

## load

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L256)

```python
def load(fp, app=None, **kwargs):
```

Like :func:[loads](#loads) but reads from a file object.

## loads

[[find in source code]](..\..\..\..\..\..\env\Lib\site-packages\flask\json\__init__.py#L226)

```python
def loads(s, app=None, **kwargs):
```

Deserialize an object from a JSON-formatted string ``s``. If
there is an app context pushed, use the current app's configured
decoder (attribute `~flask.Flask.json_decoder`), or fall back to the
default :class:[JSONDecoder](#jsondecoder).

Takes the same arguments as the built-in :func:`json.loads`, and
does some extra configuration based on the application. If the
simplejson package is installed, it is preferred.

#### Arguments

- `s` - JSON string to deserialize.
- `app` - App instance to use to configure the JSON decoder.
    Uses ``current_app`` if not given, and falls back to the default
    encoder when not in an app context.
- `kwargs` - Extra arguments passed to :func:`json.dumps`.

#### Notes

Changed in version 1.0.3

[App](..\..\..\..\..\app.md#app) can be passed directly, rather than requiring an app
context for configuration.
