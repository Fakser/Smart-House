# flask.blueprints

> Auto-generated documentation for [env.Lib.site-packages.flask.blueprints](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py) module.

Blueprints are the recommended way to implement larger or more
pluggable applications in Flask 0.7 and later.

- [Smart-house-rest-api](..\..\..\..\README.md#description) / [Modules](..\..\..\..\MODULES.md#smart-house-rest-api-modules) / `Env` / `Lib` / `Site-packages` / [flask](index.md#flask) / flask.blueprints
    - [Blueprint](#blueprint)
        - [Blueprint().add_app_template_filter](#blueprintadd_app_template_filter)
        - [Blueprint().add_app_template_global](#blueprintadd_app_template_global)
        - [Blueprint().add_app_template_test](#blueprintadd_app_template_test)
        - [Blueprint().add_url_rule](#blueprintadd_url_rule)
        - [Blueprint().after_app_request](#blueprintafter_app_request)
        - [Blueprint().after_request](#blueprintafter_request)
        - [Blueprint().app_context_processor](#blueprintapp_context_processor)
        - [Blueprint().app_errorhandler](#blueprintapp_errorhandler)
        - [Blueprint().app_template_filter](#blueprintapp_template_filter)
        - [Blueprint().app_template_global](#blueprintapp_template_global)
        - [Blueprint().app_template_test](#blueprintapp_template_test)
        - [Blueprint().app_url_defaults](#blueprintapp_url_defaults)
        - [Blueprint().app_url_value_preprocessor](#blueprintapp_url_value_preprocessor)
        - [Blueprint().before_app_first_request](#blueprintbefore_app_first_request)
        - [Blueprint().before_app_request](#blueprintbefore_app_request)
        - [Blueprint().before_request](#blueprintbefore_request)
        - [Blueprint().context_processor](#blueprintcontext_processor)
        - [Blueprint().endpoint](#blueprintendpoint)
        - [Blueprint().errorhandler](#blueprinterrorhandler)
        - [Blueprint().make_setup_state](#blueprintmake_setup_state)
        - [Blueprint().record](#blueprintrecord)
        - [Blueprint().record_once](#blueprintrecord_once)
        - [Blueprint().register](#blueprintregister)
        - [Blueprint().register_error_handler](#blueprintregister_error_handler)
        - [Blueprint().route](#blueprintroute)
        - [Blueprint().teardown_app_request](#blueprintteardown_app_request)
        - [Blueprint().teardown_request](#blueprintteardown_request)
        - [Blueprint().url_defaults](#blueprinturl_defaults)
        - [Blueprint().url_value_preprocessor](#blueprinturl_value_preprocessor)
    - [BlueprintSetupState](#blueprintsetupstate)
        - [BlueprintSetupState().add_url_rule](#blueprintsetupstateadd_url_rule)

:copyright: 2010 Pallets
:license: BSD-3-Clause

## Blueprint

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L90)

```python
class Blueprint(_PackageBoundObject):
    def __init__(
        name,
        import_name,
        static_folder=None,
        static_url_path=None,
        template_folder=None,
        url_prefix=None,
        subdomain=None,
        url_defaults=None,
        root_path=None,
        cli_group=_sentinel,
    ):
```

Represents a blueprint, a collection of routes and other
app-related functions that can be registered on a real application
later.

A blueprint is an object that allows defining application functions
without requiring an application object ahead of time. It uses the
same decorators as class `flask.Flask`, but defers the need for an
application by recording them for later registration.

Decorating a function with a blueprint creates a deferred function
that is called with class `flask.blueprints.BlueprintSetupState`
when the blueprint is registered on an application.

See :ref:`blueprints` for more information.

#### Notes

Changed in version 1.1.0
    Blueprints have a ``cli`` group to register nested CLI commands.
    The ``cli_group`` parameter controls the name of the group under
    the ``flask`` command.

Added in version 0.7

#### Arguments

- `name` - The name of the blueprint. Will be prepended to each
    endpoint name.
- `import_name` - The name of the blueprint package, usually
    ``__name__``. This helps locate the ``root_path`` for the
    blueprint.
- `static_folder` - A folder with static files that should be
    served by the blueprint's static route. The path is relative to
    the blueprint's root path. Blueprint static files are disabled
    by default.
- `static_url_path` - The url to serve static files from.
    Defaults to ``static_folder``. If the blueprint does not have
    a ``url_prefix``, the app's static route will take precedence,
    and the blueprint's static files won't be accessible.
- `template_folder` - A folder with templates that should be added
    to the app's template search path. The path is relative to the
    blueprint's root path. Blueprint templates are disabled by
    default. Blueprint templates have a lower precedence than those
    in the app's templates folder.
- `url_prefix` - A path to prepend to all of the blueprint's URLs,
    to make them distinct from the rest of the app's routes.
- `subdomain` - A subdomain that blueprint routes will match on by
    default.
- `url_defaults` - A dict of default values that blueprint routes
    will receive by default.
- `root_path` - By default, the blueprint will automatically this
    based on ``import_name``. In certain situations this automatic
    detection can fail, so the path can be specified manually
    instead.

#### Attributes

- `json_encoder` - : Blueprint local JSON decoder class to use.
  : Set to ``None`` to use the app's :class:`~flask.app.Flask.json_encoder`.: `None`
- `json_decoder` - : Blueprint local JSON decoder class to use.
  : Set to ``None`` to use the app's :class:`~flask.app.Flask.json_decoder`.: `None`
- `import_name` - : The name of the package or module that this app belongs to. Do not
  : change this once it is set by the constructor.: `None`
- `template_folder` - : Location of the template files to be added to the template lookup.
  : ``None`` if templates should not be added.: `None`
- `root_path` - : Absolute path to the package on the filesystem. Used to look up
  : resources contained in the package.: `None`

### Blueprint().add_app_template_filter

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L327)

```python
def add_app_template_filter(f, name=None):
```

Register a custom template filter, available application wide.  Like
:meth:`Flask.add_template_filter` but for a blueprint.  Works exactly
like the :meth:[Blueprint().app_template_filter](#blueprintapp_template_filter) decorator.

#### Arguments

- `name` - the optional name of the filter, otherwise the
             function name will be used.

### Blueprint().add_app_template_global

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L389)

```python
def add_app_template_global(f, name=None):
```

Register a custom template global, available application wide.  Like
:meth:`Flask.add_template_global` but for a blueprint.  Works exactly
like the :meth:[Blueprint().app_template_global](#blueprintapp_template_global) decorator.

#### Notes

Added in version 0.10

#### Arguments

- `name` - the optional name of the global, otherwise the
             function name will be used.

### Blueprint().add_app_template_test

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L357)

```python
def add_app_template_test(f, name=None):
```

Register a custom template test, available application wide.  Like
:meth:`Flask.add_template_test` but for a blueprint.  Works exactly
like the :meth:[Blueprint().app_template_test](#blueprintapp_template_test) decorator.

#### Notes

Added in version 0.10

#### Arguments

- `name` - the optional name of the test, otherwise the
             function name will be used.

### Blueprint().add_url_rule

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L284)

```python
def add_url_rule(rule, endpoint=None, view_func=None, **options):
```

Like :meth:`Flask.add_url_rule` but for a blueprint.  The endpoint for
the :func:`url_for` function is prefixed with the name of the blueprint.

### Blueprint().after_app_request

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L441)

```python
def after_app_request(f):
```

Like :meth:`Flask.after_request` but for a blueprint.  Such a function
is executed after each request, even if outside of the blueprint.

### Blueprint().after_request

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L431)

```python
def after_request(f):
```

Like :meth:`Flask.after_request` but for a blueprint.  This function
is only executed after each request that is handled by a function of
that blueprint.

### Blueprint().app_context_processor

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L483)

```python
def app_context_processor(f):
```

Like :meth:`Flask.context_processor` but for a blueprint.  Such a
function is executed each request, even if outside of the blueprint.

### Blueprint().app_errorhandler

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L492)

```python
def app_errorhandler(code):
```

Like :meth:`Flask.errorhandler` but for a blueprint.  This
handler is used for all requests, even if outside of the blueprint.

### Blueprint().app_template_filter

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L313)

```python
def app_template_filter(name=None):
```

Register a custom template filter, available application wide.  Like
:meth:`Flask.template_filter` but for a blueprint.

#### Arguments

- `name` - the optional name of the filter, otherwise the
             function name will be used.

### Blueprint().app_template_global

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L373)

```python
def app_template_global(name=None):
```

Register a custom template global, available application wide.  Like
:meth:`Flask.template_global` but for a blueprint.

#### Notes

Added in version 0.10

#### Arguments

- `name` - the optional name of the global, otherwise the
             function name will be used.

### Blueprint().app_template_test

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L341)

```python
def app_template_test(name=None):
```

Register a custom template test, available application wide.  Like
:meth:`Flask.template_test` but for a blueprint.

#### Notes

Added in version 0.10

#### Arguments

- `name` - the optional name of the test, otherwise the
             function name will be used.

### Blueprint().app_url_defaults

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L531)

```python
def app_url_defaults(f):
```

Same as :meth:[Blueprint().url_defaults](#blueprinturl_defaults) but application wide.

### Blueprint().app_url_value_preprocessor

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L523)

```python
def app_url_value_preprocessor(f):
```

Same as :meth:[Blueprint().url_value_preprocessor](#blueprinturl_value_preprocessor) but application wide.

### Blueprint().before_app_first_request

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L424)

```python
def before_app_first_request(f):
```

Like :meth:`Flask.before_first_request`.  Such a function is
executed before the first request to the application.

### Blueprint().before_app_request

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L415)

```python
def before_app_request(f):
```

Like :meth:`Flask.before_request`.  Such a function is executed
before each request, even if outside of a blueprint.

### Blueprint().before_request

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L405)

```python
def before_request(f):
```

Like :meth:`Flask.before_request` but for a blueprint.  This function
is only executed before each request that is handled by a function of
that blueprint.

### Blueprint().context_processor

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L472)

```python
def context_processor(f):
```

Like :meth:`Flask.context_processor` but for a blueprint.  This
function is only executed for requests handled by a blueprint.

### Blueprint().endpoint

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L296)

```python
def endpoint(endpoint):
```

Like :meth:`Flask.endpoint` but for a blueprint.  This does not
prefix the endpoint with the blueprint name, this has to be done
explicitly by the user of this method.  If the endpoint is prefixed
with a `.` it will be registered to the current blueprint, otherwise
it's an application independent endpoint.

### Blueprint().errorhandler

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L539)

```python
def errorhandler(code_or_exception):
```

Registers an error handler that becomes active for this blueprint
only.  Please be aware that routing does not happen local to a
blueprint so an error handler for 404 usually is not handled by
a blueprint unless it is caused inside a view function.  Another
special case is the 500 internal server error which is always looked
up from the application.

Otherwise works as the :meth:`~flask.Flask.errorhandler` decorator
of the class `flask.Flask` object.

### Blueprint().make_setup_state

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L226)

```python
def make_setup_state(app, options, first_registration=False):
```

Creates an instance of :meth:`~flask.blueprints.BlueprintSetupState`
object that is later passed to the register callback functions.
Subclasses can override this to return a subclass of the setup state.

### Blueprint().record

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L195)

```python
def record(func):
```

Registers a function that is called when the blueprint is
registered on the application.  This function is called with the
state as argument as returned by the :meth:[Blueprint().make_setup_state](#blueprintmake_setup_state)
method.

### Blueprint().record_once

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L213)

```python
def record_once(func):
```

Works like :meth:[Blueprint().record](#blueprintrecord) but wraps the function in another
function that will ensure the function is only called once.  If the
blueprint is registered a second time on the application, the
function passed is not called.

### Blueprint().register

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L233)

```python
def register(app, options, first_registration=False):
```

Called by :meth:`Flask.register_blueprint` to register all views
and callbacks registered on the blueprint with the application. Creates
a class `.BlueprintSetupState` and calls each :meth:[Blueprint().record](#blueprintrecord) callback
with it.

#### Arguments

- `app` - The application this blueprint is being registered with.
- `options` - Keyword arguments forwarded from
    :meth:`~Flask.register_blueprint`.
- `first_registration` - Whether this is the first time this
    blueprint has been registered on the application.

### Blueprint().register_error_handler

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L559)

```python
def register_error_handler(code_or_exception, f):
```

Non-decorator version of the :meth:[Blueprint().errorhandler](#blueprinterrorhandler) error attach
function, akin to the :meth:`~flask.Flask.register_error_handler`
application-wide function of the class `flask.Flask` object but
for error handlers limited to this blueprint.

#### Notes

Added in version 0.11

### Blueprint().route

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L272)

```python
def route(rule, **options):
```

Like :meth:`Flask.route` but for a blueprint.  The endpoint for the
:func:`url_for` function is prefixed with the name of the blueprint.

### Blueprint().teardown_app_request

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L462)

```python
def teardown_app_request(f):
```

Like :meth:`Flask.teardown_request` but for a blueprint.  Such a
function is executed when tearing down each request, even if outside of
the blueprint.

### Blueprint().teardown_request

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L450)

```python
def teardown_request(f):
```

Like :meth:`Flask.teardown_request` but for a blueprint.  This
function is only executed when tearing down requests handled by a
function of that blueprint.  Teardown request functions are executed
when the request context is popped, even when no actual request was
performed.

### Blueprint().url_defaults

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L513)

```python
def url_defaults(f):
```

Callback function for URL defaults for this blueprint.  It's called
with the endpoint and values and should update the values passed
in place.

### Blueprint().url_value_preprocessor

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L503)

```python
def url_value_preprocessor(f):
```

Registers a function as URL value preprocessor for this
blueprint.  It's called before the view functions are called and
can modify the url values provided.

## BlueprintSetupState

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L21)

```python
class BlueprintSetupState(object):
    def __init__(blueprint, app, options, first_registration):
```

Temporary holder object for registering a blueprint with the
application.  An instance of this class is created by the
:meth:`~flask.Blueprint.make_setup_state` method and later passed
to all register callback functions.

### BlueprintSetupState().add_url_rule

[[find in source code]](..\..\..\..\..\env\Lib\site-packages\flask\blueprints.py#L65)

```python
def add_url_rule(rule, endpoint=None, view_func=None, **options):
```

A helper method to register a rule (and optionally a view function)
to the application.  The endpoint is automatically prefixed with the
blueprint's name.
